<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dissertation Playground</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
    <div class="section-wrapper" id="Heading">
        <h1>Dissertation Playground</h1>
        <h2>Traditional vs ML methods in Timeseries Forecasting</h2>
        <h3>A playground to explore the different available models and pick which one suits best for your application</h3>
        <div id="Nav_bar">
            <button class="nav-bar-button" id="Home_nav_button">Home</button>
            <button class="nav-bar-button" id="About_nav_button">About</button>
            <button class="nav-bar-button" id="Report_nav_button">Report</button>
        </div>
        <hr>
    </div>
    

    <!-- <input type="file" accept=".csv, .txt"> -->
    <div class="section-wrapper" id="input">
        <h3>Upload a snapshot of your dataset</h3>
        <form id="upload-form" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" accept=".csv, .txt">
            <input type="submit" value="Upload File">
        </form>
        <div id="upload-status"></div>
    </div>
    
    <br><br>
    
    <div class="section-wrapper" id="sliders">
        <form id="sliderForm">
            <p><span id="slider_1_value">Accuracy: 5</span></p>
            <input type="range" id="accuracy_slider" class="config_slider" name="slider1" min="0" max="10" step="1" value="5" oninput="updateSliders()">

            <p><span id="slider_2_value">Outliers: 5</span></p>
            <input type="range" id="outliers_slider" class="config_slider" name="slider2" min="0" max="10" step="1" value="5" oninput="updateSliders()">

            <p><span id="slider_3_value">Shape similarity: 5</span></p>
            <input type="range" id="shape_slider" class="config_slider" name="slider3" min="0" max="10" step="1" value="5" oninput="updateSliders()">

            <p><span id="slider_4_value">Execution time: 5</span></p>
            <input type="range" id="time_slider" class="config_slider" name="slider4" min="0" max="10" step="1" value="5" oninput="updateSliders()">

            <p><span id="slider_5_value">Complexity: 5</span></p>
            <input type="range" id="complexity_slider" class="config_slider" name="slider5" min="0" max="10" step="1" value="5" oninput="updateSliders()">

            <p><span id="slider_6_value">Improvement over naive methods: 5</span></p>
            <input type="range" id="naive_slider" class="config_slider" name="slider6" min="0" max="10" step="1" value="5" oninput="updateSliders()">


            <p id="Total_text">Total: <span id="total">30</span></p>
            <p id="Slider_for_submission_result"></p>
            <input type="submit" value="Submit">
        </form>
    </div>
    <br>
    <div class="section-wrapper" id="forecasting">
        <!-- <h3 class="Model_title">Forecasting</h3> -->
        <div id="Model_buttons">
        <button class='model_button' id='traditional_model_button' onclick="callFunction('traditional_models')">Traditional methods</button>
        <button class='model_button' id='ml_model_button' onclick="callFunction('ml_models')">Machine Learning models</button>
        <button class='model_button' id='naive_model_button' onclick="callFunction('naive_methods')">Naive methods</button>
        </div>
        <hr>
    </div>

    <!-- EVALUATION PROTOCOL AND EXPORTS -->

    <div class="section-wrapper" id="eval_and_export">
        <!-- EVALUATION PROTOCOL -->
        <div class="section-wrapper" id="eval_protocol">
            <h3>Evaluation protocol</h3>
            <button onclick="exportResults('single_scores')">Single score</button>
            <a href="/Exports/single_scores.txt" download="GFG">
                <button type="button" id="Download_button">Download in text</button>
            </a>
        </div>

        <!-- EXPORT -->
        <div class="section-wrapper" id="Measurements_export">
            <h3>Analytical Measurements</h3>
            <button onclick="exportResults('export_results')">Export Analytical Results</button>
            <a href="/Exports/output.txt" download="GFG">
                <button type="button" id="Download_button">Download in text</button>
            </a>
        </div>

        <!-- EXPORT RAW Results -->
        <div class="section-wrapper" id="Raw_results_export">
            <h3>Raw results</h3>
            <button onclick="exportResults('raw_results')">Export Raw Results</button>
            <a href="/Exports/raw_results.zip" download="GFG">
                <button type="button" id="Download_button">Download Raw Results</button>
            </a>
        </div>
        
        <div class="section-wrapper" id="Export_responses">
        </div>

    </div>

    <div class="clear-wrapper" id="clear_session">
        <br>
        <button onclick="clearAdditionalElements('clear_results')">Clear session</button>
        <hr>
    </div>
    

    <div class="result-wrapper" id="result">
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        // Read more button
        const modal = document.querySelector('#modal');
        const openModal = document.querySelector('.open-button');
        const closeModal = document.querySelector('.close-button');

        // Fetching hover button data 
        fetch("static/hover/traditional.txt")
        .then(response => response.text())
        .then(data => {
            document.getElementById('traditional_model_button').title = data;
        })

        fetch("static/hover/machine_learning.txt")
        .then(response => response.text())
        .then(data => {
            document.getElementById('ml_model_button').title = data;
        })

        fetch("static/hover/Naive_method.txt")
        .then(response => response.text())
        .then(data => {
            document.getElementById('naive_model_button').title = data;
        })

        fetch("static/hover/download.txt")
        .then(response => response.text())
        .then(data => {
            document.getElementById('Download_button').title = data;
        })
    </script>

</body>
</html>
